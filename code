loadstring([[

-- Flick Aimbot + ESP Ultra Mejorado - SOLO PARA DESARROLLO PRIVADO
-- No uses en servidores p煤blicos, riesgo de ban permanente
-- Compatible con PC/M贸vil - UI corregida para m贸viles

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local Workspace = game:GetService("Workspace")
local NetworkClient = game:GetService("NetworkClient")

local LocalPlayer = Players.LocalPlayer
local Camera = Workspace.CurrentCamera

-- Variables del Aimbot y ESP
local AimbotEnabled = false
local ESPEnabled = false
local TargetPart = "Head"
local FOV = 120
local Smoothness = 0.08
local WallCheck = true
local TeamCheck = true
local PredictMovement = true
local AimOnClick = false
local ESPColor = Color3.fromRGB(255, 0, 0)
local ESPDistance = 1000
local VerticalOffset = 0.2

-- GUI Setup
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "FlickHackGUI"
ScreenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")
ScreenGui.ResetOnSpawn = false
ScreenGui.IgnoreGuiInset = true
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- FOV Circle
local FOVCircle = Instance.new("Frame")
FOVCircle.Parent = ScreenGui
FOVCircle.BackgroundColor3 = Color3.fromRGB(0, 255, 255)
FOVCircle.BackgroundTransparency = 0.8
FOVCircle.Position = UDim2.new(0.5, -FOV, 0.5, -FOV)
FOVCircle.Size = UDim2.new(0, FOV * 2, 0, FOV * 2)
FOVCircle.Visible = false
local FOVCorner = Instance.new("UICorner")
FOVCorner.CornerRadius = UDim.new(1, 0)
FOVCorner.Parent = FOVCircle

local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Parent = ScreenGui
MainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
MainFrame.BackgroundTransparency = 0.35
MainFrame.Position = UDim2.new(0.5, -200, 0.5, -175)
MainFrame.Size = UDim2.new(0, 400, 0, 350)
MainFrame.Visible = false
MainFrame.ZIndex = 10

local Gradient = Instance.new("UIGradient")
Gradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(60, 60, 60)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(20, 20, 20))
}
Gradient.Rotation = 45
Gradient.Parent = MainFrame

local Corner = Instance.new("UICorner")
Corner.CornerRadius = UDim.new(0, 12)
Corner.Parent = MainFrame

local Stroke = Instance.new("UIStroke")
Stroke.Color = Color3.fromRGB(0, 255, 255)
Stroke.Thickness = 2.5
Stroke.Transparency = 0.4
Stroke.Parent = MainFrame

-- Escala para dispositivos
local UIScale = Instance.new("UIScale")
UIScale.Scale = UserInputService.TouchEnabled and 0.6 or 1
UIScale.Parent = MainFrame

-- Bot贸n flotante para m贸viles
local MobileToggleButton = Instance.new("TextButton")
MobileToggleButton.Parent = ScreenGui
MobileToggleButton.BackgroundColor3 = Color3.fromRGB(0, 255, 255)
MobileToggleButton.Position = UDim2.new(0.02, 0, 0.02, 0)
MobileToggleButton.Size = UDim2.new(0, 80, 0, 80)
MobileToggleButton.Font = Enum.Font.GothamBlack
MobileToggleButton.Text = "MENU"
MobileToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
MobileToggleButton.TextSize = 16
MobileToggleButton.Visible = UserInputService.TouchEnabled
MobileToggleButton.ZIndex = 15
local MobileCorner = Instance.new("UICorner")
MobileCorner.CornerRadius = UDim.new(0, 40)
MobileCorner.Parent = MobileToggleButton
local MobileStroke = Instance.new("UIStroke")
MobileStroke.Color = Color3.fromRGB(255, 255, 255)
MobileStroke.Thickness = 1
MobileStroke.Parent = MobileToggleButton

-- T铆tulo
local Title = Instance.new("TextLabel")
Title.Parent = MainFrame
Title.BackgroundTransparency = 1
Title.Position = UDim2.new(0, 0, 0, 10)
Title.Size = UDim2.new(1, 0, 0, 40)
Title.Font = Enum.Font.GothamBlack
Title.Text = "Flick Pro Panel"
Title.TextColor3 = Color3.fromRGB(0, 255, 255)
Title.TextSize = 28
Title.TextStrokeTransparency = 0.6
Title.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)

-- Animaci贸n de entrada
local function animateFrame(visible)
    local tweenInfo = TweenInfo.new(0.5, Enum.EasingStyle.Exponential, Enum.EasingDirection.InOut)
    local goal = visible and {Position = UDim2.new(0.5, -200, 0.5, -175)} or {Position = UDim2.new(0.5, -200, 0.5, -525)}
    TweenService:Create(MainFrame, tweenInfo, goal):Play()
end

-- Toggle Aimbot
local AimbotToggle = Instance.new("TextButton")
AimbotToggle.Parent = MainFrame
AimbotToggle.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
AimbotToggle.Position = UDim2.new(0, 20, 0, 60)
AimbotToggle.Size = UDim2.new(0, 170, 0, 60)
AimbotToggle.Font = Enum.Font.Gotham
AimbotToggle.Text = "Aimbot: OFF"
AimbotToggle.TextColor3 = Color3.fromRGB(255, 255, 255)
AimbotToggle.TextSize = 20
local AimbotCorner = Instance.new("UICorner")
AimbotCorner.CornerRadius = UDim.new(0, 12)
AimbotCorner.Parent = AimbotToggle

-- Toggle ESP
local ESPToggle = Instance.new("TextButton")
ESPToggle.Parent = MainFrame
ESPToggle.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
ESPToggle.Position = UDim2.new(0, 210, 0, 60)
ESPToggle.Size = UDim2.new(0, 170, 0, 60)
ESPToggle.Font = Enum.Font.Gotham
ESPToggle.Text = "ESP: OFF"
ESPToggle.TextColor3 = Color3.fromRGB(255, 255, 255)
ESPToggle.TextSize = 20
local ESPCorner = Instance.new("UICorner")
ESPCorner.CornerRadius = UDim.new(0, 12)
ESPCorner.Parent = ESPToggle

-- Toggle Aim on Click
local ClickToggle = Instance.new("TextButton")
ClickToggle.Parent = MainFrame
ClickToggle.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
ClickToggle.Position = UDim2.new(0, 20, 0, 130)
ClickToggle.Size = UDim2.new(0, 170, 0, 60)
ClickToggle.Font = Enum.Font.Gotham
ClickToggle.Text = "Aim on Click: OFF"
ClickToggle.TextColor3 = Color3.fromRGB(255, 255, 255)
ClickToggle.TextSize = 20
local ClickCorner = Instance.new("UICorner")
ClickCorner.CornerRadius = UDim.new(0, 12)
ClickCorner.Parent = ClickToggle

-- Toggle Target Part
local PartToggle = Instance.new("TextButton")
PartToggle.Parent = MainFrame
PartToggle.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
PartToggle.Position = UDim2.new(0, 210, 0, 130)
PartToggle.Size = UDim2.new(0, 170, 0, 60)
PartToggle.Font = Enum.Font.Gotham
PartToggle.Text = "Target: Head"
PartToggle.TextColor3 = Color3.fromRGB(255, 255, 255)
PartToggle.TextSize = 20
local PartCorner = Instance.new("UICorner")
PartCorner.CornerRadius = UDim.new(0, 12)
PartCorner.Parent = PartToggle

-- Slider FOV
local FOVLabel = Instance.new("TextLabel")
FOVLabel.Parent = MainFrame
FOVLabel.BackgroundTransparency = 1
FOVLabel.Position = UDim2.new(0, 20, 0, 200)
FOVLabel.Size = UDim2.new(0, 100, 0, 30)
FOVLabel.Font = Enum.Font.Gotham
FOVLabel.Text = "FOV: 120"
FOVLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
FOVLabel.TextSize = 18

local FOVSliderFrame = Instance.new("Frame")
FOVSliderFrame.Parent = MainFrame
FOVSliderFrame.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
FOVSliderFrame.Position = UDim2.new(0, 20, 0, 230)
FOVSliderFrame.Size = UDim2.new(0, 360, 0, 20)
local FOVSliderCorner = Instance.new("UICorner")
FOVSliderCorner.CornerRadius = UDim.new(0, 10)
FOVSliderCorner.Parent = FOVSliderFrame

local FOVSlider = Instance.new("Frame")
FOVSlider.Parent = FOVSliderFrame
FOVSlider.BackgroundColor3 = Color3.fromRGB(0, 255, 255)
FOVSlider.Size = UDim2.new(0.4, 0, 1, 0)
local FOVSliderCorner = Instance.new("UICorner")
FOVSliderCorner.CornerRadius = UDim.new(0, 10)
FOVSliderCorner.Parent = FOVSlider

local draggingFOV = false
FOVSliderFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        draggingFOV = true
    end
end)
UserInputService.InputChanged:Connect(function(input)
    if draggingFOV and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
        local pos = input.Position.X
        local relative = math.clamp((pos - FOVSliderFrame.AbsolutePosition.X) / FOVSliderFrame.AbsoluteSize.X, 0, 1)
        FOV = math.floor(relative * 300)
        FOVLabel.Text = "FOV: " .. FOV
        FOVSlider.Position = UDim2.new(relative, 0, 0, 0)
        FOVCircle.Size = UDim2.new(0, FOV * 2, 0, FOV * 2)
        FOVCircle.Position = UDim2.new(0.5, -FOV, 0.5, -FOV)
    end
end)
UserInputService.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        draggingFOV = false
    end
end)

-- Slider Smoothness
local SmoothLabel = Instance.new("TextLabel")
SmoothLabel.Parent = MainFrame
SmoothLabel.BackgroundTransparency = 1
SmoothLabel.Position = UDim2.new(0, 20, 0, 260)
SmoothLabel.Size = UDim2.new(0, 100, 0, 30)
SmoothLabel.Font = Enum.Font.Gotham
SmoothLabel.Text = "Smooth: 0.08"
SmoothLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
SmoothLabel.TextSize = 18

local SmoothSliderFrame = Instance.new("Frame")
SmoothSliderFrame.Parent = MainFrame
SmoothSliderFrame.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
SmoothSliderFrame.Position = UDim2.new(0, 20, 0, 290)
SmoothSliderFrame.Size = UDim2.new(0, 360, 0, 20)
local SmoothSliderCorner = Instance.new("UICorner")
SmoothSliderCorner.CornerRadius = UDim.new(0, 10)
SmoothSliderCorner.Parent = SmoothSliderFrame

local SmoothSlider = Instance.new("Frame")
SmoothSlider.Parent = SmoothSliderFrame
SmoothSlider.BackgroundColor3 = Color3.fromRGB(0, 255, 255)
SmoothSlider.Size = UDim2.new(0.16, 0, 1, 0)
local SmoothSliderCorner = Instance.new("UICorner")
SmoothSliderCorner.CornerRadius = UDim.new(0, 10)
SmoothSliderCorner.Parent = SmoothSlider

local draggingSmooth = false
SmoothSliderFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        draggingSmooth = true
    end
end)
UserInputService.InputChanged:Connect(function(input)
    if draggingSmooth and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
        local pos = input.Position.X
        local relative = math.clamp((pos - SmoothSliderFrame.AbsolutePosition.X) / SmoothSliderFrame.AbsoluteSize.X, 0, 1)
        Smoothness = math.clamp(relative * 0.5, 0.02, 0.5)
        SmoothLabel.Text = "Smooth: " .. string.format("%.2f", Smoothness)
        SmoothSlider.Position = UDim2.new(relative, 0, 0, 0)
    end
end)
UserInputService.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        draggingSmooth = false
    end
end)

-- Bot贸n Cerrar
local CloseButton = Instance.new("TextButton")
CloseButton.Parent = MainFrame
CloseButton.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
CloseButton.Position = UDim2.new(1, -40, 0, 10)
CloseButton.Size = UDim2.new(0, 30, 0, 30)
CloseButton.Font = Enum.Font.GothamBlack
CloseButton.Text = "X"
CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseButton.TextSize = 22
local CloseCorner = Instance.new("UICorner")
CloseCorner.CornerRadius = UDim.new(0, 12)
CloseCorner.Parent = CloseButton

-- Aimbot Mejorado
local function GetClosestPlayer()
    local closest, dist = nil, math.huge
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild(TargetPart) then
            if TeamCheck and player.Team == LocalPlayer.Team then continue end
            local part = player.Character[TargetPart]
            local dist3D = (part.Position - Camera.CFrame.Position).Magnitude
            if dist3D <= ESPDistance then
                local screenPos, onScreen = Camera:WorldToScreenPoint(part.Position)
                if onScreen then
                    local delta = (Vector2.new(screenPos.X, screenPos.Y) - Vector2.new(Camera.ViewportSize.X / 2, Camera.ViewportSize.Y / 2)).Magnitude
                    if delta < FOV and dist3D < dist then
                        if WallCheck then
                            local ray = Workspace:Raycast(Camera.CFrame.Position, (part.Position - Camera.CFrame.Position).Unit * 1000)
                            if ray and ray.Instance:IsDescendantOf(player.Character) then
                                closest, dist = player, dist3D
                            end
                        else
                            closest, dist = player, dist3D
                        end
                    end
                end
            end
        end
    end
    return closest
end

local function PredictPosition(part)
    if not PredictMovement then return part.Position + Vector3.new(0, VerticalOffset, 0) end
    local humanoid = part.Parent:FindFirstChild("Humanoid")
    if humanoid and humanoid.WalkSpeed > 0 then
        local velocity = humanoid.MoveDirection * humanoid.WalkSpeed
        local dist = (part.Position - Camera.CFrame.Position).Magnitude
        local ping = NetworkClient.Latency or 0.1
        local timeToTarget = dist / 100 * (ping * 1.5)
        return part.Position + velocity * timeToTarget + Vector3.new(0, VerticalOffset, 0)
    end
    return part.Position + Vector3.new(0, VerticalOffset, 0)
end

local function AimAt(target)
    if target and target.Character and target.Character:FindFirstChild(TargetPart) then
        local part = target.Character[TargetPart]
        local targetPos = PredictPosition(part)
        local targetCFrame = CFrame.lookAt(Camera.CFrame.Position, targetPos)
        Camera.CFrame = Camera.CFrame:Lerp(targetCFrame, Smoothness)
    end
end

-- ESP Mejorado
local ESPs = {}
local function CreateESP(player)
    if not player.Character or ESPs[player] then return end
    local billboard = Instance.new("BillboardGui")
    billboard.Name = "ESP_" .. player.Name
    billboard.Parent = ScreenGui
    billboard.Adornee = player.Character:FindFirstChild("HumanoidRootPart")
    billboard.Size = UDim2.new(0, 70, 0, 70)
    billboard.StudsOffset = Vector3.new(0, 4, 0)
    billboard.AlwaysOnTop = true
    billboard.ZIndex = 5

    local frame = Instance.new("Frame")
    frame.Parent = billboard
    frame.Size = UDim2.new(1, 0, 1, 0)
    frame.BackgroundTransparency = 1
    frame.BorderSizePixel = 3
    frame.BorderColor3 = ESPColor

    local nameLabel = Instance.new("TextLabel")
    nameLabel.Parent = billboard
    nameLabel.BackgroundTransparency = 1
    nameLabel.Position = UDim2.new(0, 0, -0.6, 0)
    nameLabel.Size = UDim2.new(1, 0, 0, 20)
    nameLabel.Font = Enum.Font.Gotham
    nameLabel.Text = player.Name
    nameLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    nameLabel.TextSize = 16
    nameLabel.TextStrokeTransparency = 0.6

    local distLabel = Instance.new("TextLabel")
    distLabel.Parent = billboard
    distLabel.BackgroundTransparency = 1
    distLabel.Position = UDim2.new(0, 0, 1.6, 0)
    distLabel.Size = UDim2.new(1, 0, 0, 20)
    distLabel.Font = Enum.Font.Gotham
    distLabel.Text = "0 studs"
    distLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    distLabel.TextSize = 16
    distLabel.TextStrokeTransparency = 0.6

    local healthBar = Instance.new("Frame")
    healthBar.Parent = billboard
    healthBar.Position = UDim2.new(-0.2, 0, 0, 0)
    healthBar.Size = UDim2.new(0.1, 0, 1, 0)
    healthBar.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
    local healthCorner = Instance.new("UICorner")
    healthCorner.CornerRadius = UDim.new(0, 5)
    healthCorner.Parent = healthBar

    ESPs[player] = {billboard = billboard, frame = frame, distLabel = distLabel, healthBar = healthBar}
end

local lastESPUpdate = 0
local function UpdateESP()
    if tick() - lastESPUpdate < 0.1 then return end
    lastESPUpdate = tick()
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            local dist = (player.Character.HumanoidRootPart.Position - Camera.CFrame.Position).Magnitude
            if dist <= ESPDistance then
                if not ESPs[player] then
                    CreateESP(player)
                end
                if ESPs[player] then
                    local health = player.Character:FindFirstChild("Humanoid") and player.Character.Humanoid.Health or 100
                    ESPs[player].frame.BorderColor3 = Color3.fromRGB(255 * (1 - health/100), 255 * (health/100), 0)
                    ESPs[player].distLabel.Text = math.floor(dist) .. " studs"
                    ESPs[player].healthBar.Size = UDim2.new(0.1, 0, health/100, 0)
                end
            else
                if ESPs[player] then
                    ESPs[player].billboard:Destroy()
                    ESPs[player] = nil
                end
            end
        end
    end
end

-- Limpieza de ESP
Players.PlayerRemoving:Connect(function(player)
    if ESPs[player] then
        ESPs[player].billboard:Destroy()
        ESPs[player] = nil
    end
end)

Players.ChildAdded:Connect(function(player)
    player.CharacterAdded:Connect(function()
        if ESPEnabled then
            CreateESP(player)
        end
    end)
end)

-- Loop principal
local isClicking = false
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if input.UserInputType == Enum.UserInputType.MouseButton2 then
        isClicking = true
    end
end)
UserInputService.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton2 then
        isClicking = false
    end
end)

RunService.Heartbeat:Connect(function()
    FOVCircle.Visible = AimbotEnabled
    if AimbotEnabled and (not AimOnClick or isClicking) then
        local target = GetClosestPlayer()
        if target then
            AimAt(target)
        end
    end
    if ESPEnabled then
        UpdateESP()
    end
end)

-- Eventos de GUI
AimbotToggle.MouseButton1Click:Connect(function()
    AimbotEnabled = not AimbotEnabled
    AimbotToggle.Text = AimbotEnabled and "Aimbot: ON" or "Aimbot: OFF"
    AimbotToggle.BackgroundColor3 = AimbotEnabled and Color3.fromRGB(0, 255, 50) or Color3.fromRGB(255, 50, 50)
end)

ESPToggle.MouseButton1Click:Connect(function()
    ESPEnabled = not ESPEnabled
    ESPToggle.Text = ESPEnabled and "ESP: ON" or "ESP: OFF"
    ESPToggle.BackgroundColor3 = ESPEnabled and Color3.fromRGB(0, 255, 50) or Color3.fromRGB(255, 50, 50)
    if not ESPEnabled then
        for _, esp in pairs(ESPs) do
            esp.billboard:Destroy()
        end
        ESPs = {}
    end
end)

ClickToggle.MouseButton1Click:Connect(function()
    AimOnClick = not AimOnClick
    ClickToggle.Text = AimOnClick and "Aim on Click: ON" or "Aim on Click: OFF"
    ClickToggle.BackgroundColor3 = AimOnClick and Color3.fromRGB(0, 255, 50) or Color3.fromRGB(255, 50, 50)
end)

PartToggle.MouseButton1Click:Connect(function()
    TargetPart = TargetPart == "Head" and "Torso" or "Head"
    PartToggle.Text = "Target: " .. TargetPart
end)

CloseButton.MouseButton1Click:Connect(function()
    animateFrame(false)
end)

MobileToggleButton.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.Touch then
        animateFrame(not MainFrame.Visible)
    end
end)

UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if gameProcessed then return end
    if input.KeyCode == Enum.KeyCode.Insert then
        animateFrame(not MainFrame.Visible)
    end
end)

print(" Flick Pro Panel cargado. Bot贸n MENU en m贸vil o Insert en PC. 隆Solo para desarrollo privado!")

]])()
